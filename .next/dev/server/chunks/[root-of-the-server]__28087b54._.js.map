{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Desktop/i-e-school-admin-panel/app/api/classes/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server'\r\nimport { neon } from '@neondatabase/serverless'\r\n\r\nconst sql = neon(process.env.DATABASE_URL!)\r\n\r\nexport async function GET() {\r\n  try {\r\n    const classes = await sql`\r\n      SELECT * FROM classes \r\n      ORDER BY created_at DESC\r\n    `\r\n    return NextResponse.json(classes)\r\n  } catch (error) {\r\n    console.error('Error fetching classes:', error)\r\n    return NextResponse.json(\r\n      { error: 'Failed to fetch classes' },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}\r\n\r\nexport async function POST(request: NextRequest) {\r\n  try {\r\n    const { name, teacher, description } = await request.json()\r\n    \r\n    if (!name || !teacher) {\r\n      return NextResponse.json(\r\n        { error: 'Name and teacher are required' },\r\n        { status: 400 }\r\n      )\r\n    }\r\n    \r\n    const [newClass] = await sql`\r\n      INSERT INTO classes (name, teacher, description) \r\n      VALUES (${name}, ${teacher}, ${description}) \r\n      RETURNING *\r\n    `\r\n    \r\n    return NextResponse.json(newClass, { status: 201 })\r\n  } catch (error) {\r\n    console.error('Error creating class:', error)\r\n    return NextResponse.json(\r\n      { error: 'Failed to create class' },\r\n      { status: 500 }\r\n    )\r\n  }\r\n}"],"names":[],"mappings":";;;;;;AAAA;AACA;;;AAEA,MAAM,MAAM,IAAA,gKAAI,EAAC,QAAQ,GAAG,CAAC,YAAY;AAElC,eAAe;IACpB,IAAI;QACF,MAAM,UAAU,MAAM,GAAG,CAAC;;;IAG1B,CAAC;QACD,OAAO,gJAAY,CAAC,IAAI,CAAC;IAC3B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA0B,GACnC;YAAE,QAAQ;QAAI;IAElB;AACF;AAEO,eAAe,KAAK,OAAoB;IAC7C,IAAI;QACF,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,WAAW,EAAE,GAAG,MAAM,QAAQ,IAAI;QAEzD,IAAI,CAAC,QAAQ,CAAC,SAAS;YACrB,OAAO,gJAAY,CAAC,IAAI,CACtB;gBAAE,OAAO;YAAgC,GACzC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,CAAC,SAAS,GAAG,MAAM,GAAG,CAAC;;cAEnB,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,EAAE,YAAY;;IAE7C,CAAC;QAED,OAAO,gJAAY,CAAC,IAAI,CAAC,UAAU;YAAE,QAAQ;QAAI;IACnD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,yBAAyB;QACvC,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAyB,GAClC;YAAE,QAAQ;QAAI;IAElB;AACF"}}]
}